@page "/Login"
@using ChatApp.API.DTOs
@using System.Text.Json
@inject IHttpClientFactory ClientFactory
<h3>Login</h3>

<EditForm 
    Model="@_loginDto"
    OnValidSubmit="@OnLogin"
>
    <DataAnnotationsValidator/>
    <ValidationSummary/>
    <div class="form-group">
        <label for="user-name">User name</label>
        <InputText class="form-control" id="user-name"  @bind-Value="@_loginDto.UserName"/>    
    </div>
    
    
    <div class="form-group">
        <label for="password">Password</label>
        <InputText type="password" class="form-control" id="password" @bind-Value="@_loginDto.Password"/>
    </div>
    
    <button type="submit">Login</button>

    
</EditForm>

@if (_userDto != null)
{
    <h2>User Name: @_userDto.UserName</h2>
    <h2>Email: @_userDto.Email</h2>
    <h2>Token: @_userDto.Token</h2>
}


@code {
    private LoginDto _loginDto = new();
    private UserDto? _userDto;

    private async Task OnLogin()
    {
        
    }
}